<!doctype html>
<html lang="ar" dir="rtl">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Ø§Ù„Ù‚Ø±Ø¢Ù† Ø§Ù„ÙƒØ±ÙŠÙ…</title>
<meta name="description" content="Ø§Ù„Ù‚Ø±Ø¢Ù† â€” Ù‚Ø§Ø±Ø¦ Ù…ØªÙƒØ§Ù…Ù„ Ù„ØªÙ„Ø§ÙˆØ© ÙƒØªØ§Ø¨ Ø§Ù„Ù„Ù‡ Ø¹Ø² ÙˆØ¬Ù„ Ø¹Ø¨Ø± ÙˆØ§Ø¬Ù‡Ø© Ø­Ø¯ÙŠØ«Ø© ÙˆØ³Ù‡Ù„Ø© Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…. ØªØµÙØ­ Ø³ÙˆØ± Ø§Ù„Ù‚Ø±Ø¢Ù† Ø§Ù„ÙƒØ±ÙŠÙ…ØŒ Ø§Ø³ØªÙ…Ø¹ Ù„ØªÙ„Ø§ÙˆØ§Øª Ø¨ØµÙˆØª Ø£Ø´Ù‡Ø± Ø§Ù„Ù‚Ø±Ø§Ø¡ØŒ ÙˆØ§Ø¨Ø­Ø« Ø¹Ù† Ø§Ù„Ø¢ÙŠØ§Øª Ø¨Ø³Ø±Ø¹Ø© ÙˆØ¯Ù‚Ø©. ÙŠØ¯Ø¹Ù… Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ù„ÙŠÙ„ÙŠ ÙˆØ§Ù„Ù†Ù‡Ø§Ø±ÙŠØŒ ÙˆØ§Ù„ØªØ±Ø¬Ù…Ø§Øª Ø§Ù„Ù…Ø³ØªÙ‚Ø¨Ù„ÙŠØ© Ø¨Ù„ØºØ§Øª Ù…ØªØ¹Ø¯Ø¯Ø©ØŒ Ù„ÙŠÙ…Ù†Ø­Ùƒ ØªØ¬Ø±Ø¨Ø© Ø±ÙˆØ­Ø§Ù†ÙŠØ© ÙˆØªÙ‚Ù†ÙŠØ© Ù…ØªÙƒØ§Ù…Ù„Ø© Ù…Ø¹ ÙƒÙ„Ø§Ù… Ø§Ù„Ù„Ù‡." />
<meta name="keywords" content="Ø§Ù„Ù‚Ø±Ø¢Ù† Ø§Ù„ÙƒØ±ÙŠÙ…, Ø§Ù„Ù‚Ø±Ø§Ù† Ø§Ù„ÙƒØ±ÙŠÙ…, ØªÙ„Ø§ÙˆØ© Ø§Ù„Ù‚Ø±Ø¢Ù†, Ø§Ø³ØªÙ…Ø§Ø¹ Ø§Ù„Ù‚Ø±Ø¢Ù†, Ù‚Ø±Ø§Ø¡ Ø§Ù„Ù‚Ø±Ø¢Ù†, ØªÙØ³ÙŠØ± Ø§Ù„Ù‚Ø±Ø¢Ù†, Ø³ÙˆØ± Ø§Ù„Ù‚Ø±Ø¢Ù† Ø§Ù„ÙƒØ±ÙŠÙ…, Ø¢ÙŠØ§Øª Ø§Ù„Ù‚Ø±Ø¢Ù†, Ø§Ù„Ù…ØµØ­Ù Ø§Ù„Ø´Ø±ÙŠÙ, Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„Ù‚Ø±Ø¢Ù† Ø§ÙˆÙ†Ù„Ø§ÙŠÙ†, Ù‚Ø±Ø¢Ù† ÙƒØ±ÙŠÙ… Ø¨ØµÙˆØª Ø¬Ù…ÙŠÙ„, Ø§Ù„Ù‚Ø±Ø¢Ù† Ø§Ù„ÙƒØ±ÙŠÙ… ÙƒØ§Ù…Ù„, ØªØ¬ÙˆÙŠØ¯ Ø§Ù„Ù‚Ø±Ø¢Ù†, Ø­ÙØ¸ Ø§Ù„Ù‚Ø±Ø¢Ù†, Ù…Ø¹Ø§Ù†ÙŠ Ø§Ù„Ù‚Ø±Ø¢Ù†, ØªØ±Ø¬Ù…Ø© Ø§Ù„Ù‚Ø±Ø¢Ù†, Ù…ØµØ­Ù Ø§Ù„ÙƒØªØ±ÙˆÙ†ÙŠ, ØªÙØ³ÙŠØ± Ø§Ø¨Ù† ÙƒØ«ÙŠØ±, Ø§Ù„Ù‚Ø§Ø±Ø¦ Ø¹Ø¨Ø¯ Ø§Ù„Ø¨Ø§Ø³Ø·, Ø§Ù„Ù‚Ø§Ø±Ø¦ Ù…Ø´Ø§Ø±ÙŠ Ø§Ù„Ø¹ÙØ§Ø³ÙŠ, Ø§Ù„Ù‚Ø§Ø±Ø¦ Ø§Ù„Ø­ØµØ±ÙŠ, Ø§Ù„Ù‚Ø§Ø±Ø¦ Ø§Ù„Ù…Ù†Ø´Ø§ÙˆÙŠ, Ø§Ù„Ù‚Ø§Ø±Ø¦ Ø§Ù„Ø³Ø¯ÙŠØ³, Ø§Ù„Ù‚Ø§Ø±Ø¦ Ù…Ø§Ù‡Ø± Ø§Ù„Ù…Ø¹ÙŠÙ‚Ù„ÙŠ, Ø§Ø³ØªÙ…Ø§Ø¹ Ù…Ø¨Ø§Ø´Ø± Ù„Ù„Ù‚Ø±Ø¢Ù†, ØªØ·Ø¨ÙŠÙ‚ Ù‚Ø±Ø¢Ù†, Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ù‚Ø±Ø¢Ù†, ØªØ¹Ù„ÙŠÙ… Ø§Ù„ØªØ¬ÙˆÙŠØ¯, Ø£Ø­ÙƒØ§Ù… Ø§Ù„ØªÙ„Ø§ÙˆØ©, Ù…Ø­Ø±Ùƒ Ø¨Ø­Ø« Ø§Ù„Ù‚Ø±Ø¢Ù†, Ø§Ù„Ø¨Ø­Ø« ÙÙŠ Ø§Ù„Ù‚Ø±Ø¢Ù†, Ø¢ÙŠØ§Øª Ù…Ù† Ø§Ù„Ù‚Ø±Ø¢Ù†, Ø§Ù„Ø³ÙˆØ± Ø§Ù„Ù…ÙƒÙŠØ© ÙˆØ§Ù„Ù…Ø¯Ù†ÙŠØ©, Ø§Ù„Ù…ØµØ­Ù Ø§Ù„Ù…ÙØ³Ø±, Ø§Ù„Ù…ØµØ­Ù Ø§Ù„Ù…Ø³Ù…ÙˆØ¹, Ø£ÙØ¶Ù„ Ù…ÙˆÙ‚Ø¹ Ù‚Ø±Ø¢Ù†, Ù‚Ø±Ø¢Ù† Ù„Ù„ÙƒÙ…Ø¨ÙŠÙˆØªØ±, Ù‚Ø±Ø¢Ù† Ù„Ù„Ø¬ÙˆØ§Ù„, Ù‚Ø±Ø¢Ù† Ø¨Ø¯ÙˆÙ† Ø§Ù†ØªØ±Ù†Øª, ØªÙ„Ø§ÙˆØ© Ø®Ø§Ø´Ø¹Ø©, Ø®ØªÙ…Ø© Ø§Ù„Ù‚Ø±Ø¢Ù†, ØªÙØ³ÙŠØ± Ø¢ÙŠØ§Øª, ØªØ¯Ø¨Ø± Ø§Ù„Ù‚Ø±Ø¢Ù†, Ù…Ø¹Ø§Ù†ÙŠ Ø§Ù„ÙƒÙ„Ù…Ø§Øª, Ø§Ù„Ø³ÙŠØ±Ø© Ø§Ù„Ù†Ø¨ÙˆÙŠØ©, Ø§Ù„Ø¥Ø³Ù„Ø§Ù…, Ø£Ø°ÙƒØ§Ø± Ø§Ù„ØµØ¨Ø§Ø­ ÙˆØ§Ù„Ù…Ø³Ø§Ø¡, Ø£Ø°ÙƒØ§Ø±, Ø¯Ø¹Ø§Ø¡, Ø£Ø¯Ø¹ÙŠØ© Ù‚Ø±Ø¢Ù†ÙŠØ©, ØªÙ„Ø§ÙˆØ© Ù…Ø±ØªÙ„Ø©, Ø§Ø³ØªÙ…Ø§Ø¹ Ø³ÙˆØ± Ù‚ØµÙŠØ±Ø©, Ø§Ø³ØªÙ…Ø§Ø¹ Ø³ÙˆØ± Ø·ÙˆÙŠÙ„Ø©, Ø§Ù„Ù…ØµØ­Ù Ø§Ù„Ù…Ø±ØªÙ„, Ø§Ù„Ù…ØµØ­Ù Ø§Ù„Ù…Ø¬ÙˆØ¯, Ù‚Ø±Ø§Ø¡ Ø§Ù„Ø¹Ø§Ù„Ù… Ø§Ù„Ø¥Ø³Ù„Ø§Ù…ÙŠ, Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ù‚Ø±Ø¢Ù† Ø§Ù„ØªÙØ§Ø¹Ù„ÙŠ, Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ù„ÙŠÙ„ÙŠ, Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ù†Ù‡Ø§Ø±ÙŠ, Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ù‚Ø±Ø¢Ù† Ø§Ù„Ø­Ø¯ÙŠØ«, Ù…ÙˆÙ‚Ø¹ ØªÙ„Ø§ÙˆØ© Ù…Ù…ÙŠØ², Ù…ØµØ­Ù Ø¨ØªØµÙ…ÙŠÙ… Ø¬Ù…ÙŠÙ„, Ù…ÙˆÙ‚Ø¹ Ø±ÙˆØ­Ø§Ù†ÙŠ, Ù…Ù†ØµØ© Ø¥Ø³Ù„Ø§Ù…ÙŠØ© Ø±Ù‚Ù…ÙŠØ©" />
<link rel="sitemap" type="application/xml" title="Sitemap" href="sitemap.xml" />Â Â 
<link rel="icon" href="favicon.ico">
<link href="https://fonts.googleapis.com/css2?family=Amiri&display=swap" rel="stylesheet">
<style>
Â  :root {
Â  Â  --bg:#0b0f12;
Â  Â  --panel:#0f1516;
Â  Â  --muted:#8b99a6;
Â  Â  --accent:#00b3a6;
Â  Â  --card:#12171a;
Â  Â  --glass: rgba(255,255,255,0.02);
Â  Â  --radius:12px;
Â  Â  --shadow: 0 6px 24px rgba(2,6,8,0.6);
Â  Â  --trans-bg: #1c232a; /* Ø®Ù„ÙÙŠØ© Ø´ÙØ§ÙØ© Ù„Ù„Ø¢ÙŠØ© */
Â  }

Â  /* ğŸŒ Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ù†Ù‡Ø§Ø±ÙŠ */
Â  html.light {
Â  Â  --bg:#f6fbfb;
Â  Â  --panel:#ffffff;
Â  Â  --muted:#6b7280;
Â  Â  --accent:#007b7b;
Â  Â  --card:#ffffff;
Â  Â  --glass: rgba(0,0,0,0.03);
Â  Â  color:#111;
Â  Â  --trans-bg: #f9f9f9;
Â  Â  --verse-border: rgba(0,0,0,0.1);
Â  }

Â  html.light body {
Â  Â  background: var(--bg);
Â  Â  color: #111;
Â  }

Â  html.light header {
Â  Â  background: linear-gradient(180deg, rgba(255,255,255,0.9), rgba(255,255,255,0.8));
Â  Â  box-shadow: 0 2px 4px rgba(0,0,0,0.1);
Â  }

Â  html.light .icon-btn:hover {
Â  Â  background: rgba(0,0,0,0.05);
Â  Â  color: #000;
Â  }

Â  html.light .chapter-item {
Â  Â  background: rgba(0,0,0,0.02);
Â  Â  border-color: rgba(0,0,0,0.08);
Â  }

Â  /* --------------------------------- */
Â  /* ğŸŒŸ ØªÙ†Ø³ÙŠÙ‚Ø§Øª Ø§Ù„Ø¢ÙŠØ§Øª Ø§Ù„Ù…ÙØ¹Ø¯Ù‘ÙÙ„Ø© ğŸŒŸ */
Â  /* --------------------------------- */
Â  
Â  .verse-container {
Â  Â  background: var(--trans-bg);
Â  Â  border: 1px solid var(--verse-border, rgba(255,255,255,0.05));
Â  Â  border-radius: var(--radius);
Â  Â  margin-bottom: 25px;
Â  Â  padding: 20px;
Â  Â  box-shadow: 0 2px 8px rgba(0,0,0,0.1);
Â  Â  transition: all 0.3s;
Â  }
Â  
Â  .verse-container:hover {
Â  Â  box-shadow: 0 4px 12px rgba(0,0,0,0.2);
Â  Â  transform: translateY(-2px);
Â  }

Â  .arab-text {
Â  Â  font-family: 'Amiri', 'Traditional Arabic', serif;
Â  Â  font-size: 28px;
Â  Â  line-height: 2.2;
Â  Â  text-align: justify;
Â  Â  color: inherit;
Â  Â  padding: 15px 0;
Â  Â  border-bottom: 1px dashed var(--muted);
Â  Â  margin-bottom: 15px;
Â  }
Â  
Â  .verse-number-display {
Â  Â  font-size: 18px;
Â  Â  color: var(--accent);
Â  Â  background-color: var(--card);
Â  Â  padding: 5px 12px;
Â  Â  border-radius: 20px;
Â  Â  font-weight: bold;
Â  Â  display: inline-block;
Â  Â  border: 1px solid var(--accent);
Â  }
Â  
Â  /* Ø£Ù‚Ø³Ø§Ù… Ø§Ù„ØªØ±Ø¬Ù…Ø© ÙˆØ§Ù„ØªÙØ³ÙŠØ± */
Â  .data-section {
Â  Â  padding: 15px;
Â  Â  margin-top: 15px;
Â  Â  border-radius: 8px;
Â  Â  line-height: 1.8;
Â  }

Â  .translation-section {
Â  Â  background-color: rgba(0, 179, 166, 0.08); /* Ù„ÙˆÙ† ÙØ§ØªØ­ Ù„Ù„ØªØ±Ø¬Ù…Ø© */
Â  Â  border-right: 4px solid var(--accent);
Â  }

Â  .tafsir-section {
Â  Â  background-color: rgba(255, 120, 0, 0.08); /* Ù„ÙˆÙ† ÙØ§ØªØ­ Ù„Ù„ØªÙØ³ÙŠØ± */
Â  Â  border-right: 4px solid #ff7700;
Â  }

Â  html.light .translation-section {
Â  Â  background-color: #e6f7ff;
Â  Â  border-right: 4px solid #007bff;
Â  }

Â  html.light .tafsir-section {
Â  Â  background-color: #fff0e6;
Â  Â  border-right: 4px solid #ff7700;
Â  }
Â  
Â  .section-title {
Â  Â  margin-top: 0;
Â  Â  font-size: 16px;
Â  Â  font-weight: bold;
Â  Â  color: var(--accent);
Â  Â  border-bottom: 1px dotted rgba(255,255,255,0.3);
Â  Â  padding-bottom: 5px;
Â  Â  margin-bottom: 10px;
Â  }

Â  html.light .section-title {
Â  Â  color: #333;
Â  Â  border-bottom: 1px dotted #ccc;
Â  }

Â  .translation-text,
Â  .tafsir-text {
Â  Â  font-size: 15px;
Â  Â  color: inherit;
Â  }

Â  /* ØªÙ†Ø³ÙŠÙ‚ Ù…Ø´ØºÙ„ Ø§Ù„ØµÙˆØª */
Â  #playerWrap {
Â  Â  display: flex;
Â  Â  align-items: center;
Â  Â  gap: 10px;
Â  Â  flex-wrap: wrap;
Â  Â  margin-top: 15px;
Â  }

Â  #playerWrap strong {
Â  Â  color: var(--muted);
Â  Â  font-weight: normal;
Â  Â  font-size: 14px;
Â  }

Â  #playerReciterSelect {
Â  Â  min-width: 150px;
Â  }

Â  #surahAudio {
Â  Â  flex-grow: 1;
Â  Â  height: 40px;
Â  }
Â  /* --------------------------------- */

Â  /* Ø¥Ø¨Ù‚Ø§Ø¡ Ø¨Ø§Ù‚ÙŠ Ø§Ù„Ù€ CSS ÙƒÙ…Ø§ Ù‡Ùˆ */
Â  html.light input,
Â  html.light select {
Â  Â  background: #fff;
Â  Â  color: #000;
Â  Â  border-color: rgba(0,0,0,0.1);
Â  }

Â  html.light .btn {
Â  Â  color: #fff;
Â  Â  background: var(--accent);
Â  }

Â  /* ğŸ”¼ Ø²Ø± Ø§Ù„Ø±Ø¬ÙˆØ¹ Ù„Ù„Ø£Ø¹Ù„Ù‰ */
Â  #scrollTopBtn {
Â  Â  position: fixed;
Â  Â  bottom: 24px;
Â  Â  right: 24px;
Â  Â  width: 52px;
Â  Â  height: 52px;
Â  Â  border-radius: 50%;
Â  Â  border: none;
Â  Â  background: var(--accent, #009688);
Â  Â  color: #fff;
Â  Â  font-size: 22px;
Â  Â  cursor: pointer;
Â  Â  box-shadow: 0 4px 12px rgba(0,0,0,0.25);
Â  Â  display: flex;
Â  Â  align-items: center;
Â  Â  justify-content: center;
Â  Â  opacity: 0;
Â  Â  visibility: hidden;
Â  Â  transition: all 0.4s ease;
Â  Â  backdrop-filter: blur(4px);
Â  Â  z-index: 999;
Â  }

Â  #scrollTopBtn.show {
Â  Â  opacity: 1;
Â  Â  visibility: visible;
Â  Â  transform: translateY(0);
Â  }

Â  #scrollTopBtn:hover {
Â  Â  background: var(--accent-strong, #00bfa5);
Â  Â  box-shadow: 0 6px 18px rgba(0, 255, 200, 0.4);
Â  Â  transform: scale(1.1);
Â  }

Â  html:not(.light) #scrollTopBtn {
Â  Â  background: #1a1a1a;
Â  Â  color: #00e0b0;
Â  Â  box-shadow: 0 4px 10px rgba(0,0,0,0.6);
Â  }

Â  html:not(.light) #scrollTopBtn:hover {
Â  Â  background: #00bfa5;
Â  Â  color: #fff;
Â  }

Â  html,body {
Â  Â  height:100%;
Â  Â  margin:0;
Â  Â  font-family:'Cairo','Amiri',serif;
Â  Â  background:var(--bg);
Â  Â  color:#e6eef3;
Â  Â  direction:rtl;
Â  }

Â  a { color:inherit }

Â  header {
Â  Â  position:fixed;
Â  Â  top:0;
Â  Â  left:0;
Â  Â  right:0;
Â  Â  height:64px;
Â  Â  background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
Â  Â  backdrop-filter:blur(6px);
Â  Â  display:flex;
Â  Â  align-items:center;
Â  Â  justify-content:space-between;
Â  Â  padding:10px 18px;
Â  Â  z-index:1200;
Â  Â  box-shadow:0 2px 6px rgba(0,0,0,0.6);
Â  }
Â  /* ØªØ«Ø¨ÙŠØª Ø§Ù„Ù€ header Ù„ÙŠÙƒÙˆÙ† ÙÙˆÙ‚ Ø§Ù„ÙƒÙ„ Ø­ØªÙ‰ ÙÙŠ Ø§Ù„ØªÙ…Ø±ÙŠØ± */
Â  header {
Â  Â  position: sticky; 
Â  }


Â  .brand {display:flex;align-items:center;gap:12px}
Â  .brand .logo-box {
Â  Â  width:44px;height:44px;border-radius:10px;
Â  Â  background:linear-gradient(135deg,var(--accent),#00e6d6);
Â  Â  display:flex;align-items:center;justify-content:center;
Â  Â  font-weight:700;color:#021;font-size:18px
Â  }
Â  .brand h1{margin:0;font-size:18px;font-weight:700}

Â  .header-actions{display:flex;align-items:center;gap:8px}
Â  .search-top{min-width:320px}
Â  input.search-top{
Â  Â  width:100%;padding:10px 12px;border-radius:10px;
Â  Â  border:1px solid rgba(255,255,255,0.03);
Â  Â  background:var(--panel);color:inherit;outline:none
Â  }

Â  .icon-btn{
Â  Â  background:transparent;border:0;color:var(--muted);
Â  Â  cursor:pointer;padding:8px;border-radius:8px
Â  }
Â  .icon-btn:hover{color:white;background:var(--glass)}

Â  .container{display:flex;gap:18px;max-width:1200px;margin:84px auto 48px;padding:0 18px}

Â  .sidebar{
Â  Â  width:320px;
Â  Â  background:linear-gradient(180deg,var(--card),#0e1415);
Â  Â  padding:18px;border-radius:14px;
Â  Â  border:1px solid rgba(255,255,255,0.02);
Â  Â  height:calc(100vh - 120px);
Â  Â  position:sticky;top:72px;overflow:auto;box-shadow:var(--shadow);
Â  }

Â  .sidebar .logo-compact{display:flex;align-items:center;gap:12px;margin-bottom:12px}
Â  .sidebar h2{margin:0;font-size:18px}
Â  .controls{display:flex;gap:8px;align-items:center;margin:12px 0}
Â  .controls select,.controls button{background:transparent;border:1px solid rgba(255,255,255,0.03);color:inherit;padding:8px;border-radius:10px;cursor:pointer}

Â  .chapters{margin-top:10px;display:flex;flex-direction:column;gap:8px}
Â  .chapter-item{display:flex;justify-content:space-between;align-items:center;padding:10px;border-radius:10px;background:linear-gradient(180deg,rgba(255,255,255,0.01),transparent);cursor:pointer;border:1px solid rgba(255,255,255,0.02)}
Â  .chapter-item:hover{transform:translateY(-2px)}
Â  .chapter-item.active { background: rgba(0, 179, 166, 0.1); border-color: var(--accent); }
Â  html.light .chapter-item.active { background: rgba(0, 123, 255, 0.1); border-color: #007bff; }
Â  .muted{color:var(--muted);font-size:13px}
Â  .fav-box{margin-top:14px;padding:10px;border-radius:10px;background:linear-gradient(90deg,rgba(255,255,255,0.01),rgba(255,255,255,0.005));border:1px solid rgba(255,255,255,0.02)}

Â  .main{flex:1;min-height:60vh}
Â  .surah-card{background:linear-gradient(180deg,var(--card),#0e1415);padding:18px;border-radius:14px;border:1px solid rgba(255,255,255,0.02);box-shadow:var(--shadow)}
Â  .surah-head{display:flex;justify-content:space-between;align-items:center;gap:12px}
Â  .surah-title{font-size:20px;font-weight:700}
Â  .controls-row{display:flex;gap:8px;align-items:center;margin-top:12px;flex-wrap:wrap}
Â  .btn{background:var(--accent);color:#021;padding:8px 12px;border-radius:10px;border:none;cursor:pointer;font-weight:700}
Â  .btn.alt{background:transparent;border:1px solid rgba(255,255,255,0.04);color:var(--muted)}
Â  .verses{margin-top:18px;display:flex;flex-direction:column;gap:10px}
Â  /* ØªÙ… Ø­Ø°Ù ØªÙ†Ø³ÙŠÙ‚ .verse Ø§Ù„Ù‚Ø¯ÙŠÙ… ÙˆØ§Ø³ØªØ¨Ø¯Ø§Ù„Ù‡ Ø¨Ù€ .verse-container */

Â  .mobile-menu-btn{display:none}
Â  .mobile-search{display:none}

Â  .center-search {
Â  Â  position: absolute;
Â  Â  left: 50%;
Â  Â  transform: translateX(-50%);
Â  }

Â  .center-search input {
Â  Â  width: 420px;
Â  Â  max-width: 90vw;
Â  Â  padding: 8px 14px;
Â  Â  border-radius: 20px;
Â  Â  border: 1px solid #ccc;
Â  Â  font-size: 15px;
Â  Â  outline: none;
Â  Â  background: var(--panel); /* Ø§Ø³ØªØ®Ø¯Ø§Ù… panel Ù„Ù„Ø®Ù„ÙÙŠØ© */
Â  Â  color: inherit;
Â  }

Â  @media (max-width:900px){
Â  Â  header {
Â  Â  Â  display:flex;
Â  Â  Â  gap:3px;
Â  Â  Â  padding:10px 14px;
Â  Â  Â  position:sticky;
Â  Â  Â  top:0;
Â  Â  Â  z-index:100;
Â  Â  Â  box-shadow:0 1px 4px rgba(255,255,255,0.05);
Â  Â  }
Â  Â  .center-search{display:none} /* Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ø¨Ø­Ø« Ø§Ù„Ø£ÙˆØ³Ø· ÙÙŠ Ø§Ù„Ø¬ÙˆØ§Ù„ */
Â  Â  .header-row{display:flex;align-items:center;justify-content:space-between;gap:6px;flex-wrap:nowrap}
Â  Â  .site-title{color:#fff;font-size:18px;font-weight:600;margin:0;white-space:nowrap}
Â  Â  .logo-box{background:var(--accent,#00e0b0);color:#000;font-weight:bold;width:34px;height:34px;display:flex;align-items:center;justify-content:center;border-radius:10px;font-size:18px}
Â  Â  .header-actions{display:flex;align-items:center;gap:6px}
Â  Â  .icon-btn,select,.mobile-menu-btn{background:var(--card,#161b22);border:none;color:#fff;border-radius:8px;padding:6px 10px;font-size:14px;cursor:pointer}
Â  Â  .mobile-search{display:flex;align-items:center;background:var(--card,#161b22);border-radius:10px;padding:6px 12px;width:100%}
Â  Â  .mobile-search input{width:100%;background:transparent;border:none;outline:none;color:#fff;font-size:15px}
Â  Â  .mobile-search input::placeholder{color:rgba(255,255,255,0.6)}
Â  Â  header .search-top{display:none}
Â  Â  .container{flex-direction:column;padding:12px;margin-top:72px}
Â  Â  .sidebar{position:fixed;right:12px;top:76px;width:320px;height:calc(100vh - 96px);transform:translateX(110%);transition:transform .28s ease;z-index:1300}
Â  Â  .sidebar.open{transform:translateX(0)}
Â  Â  .overlay{position:fixed;inset:0;background:rgba(0,0,0,0.6);z-index:1200;opacity:0;pointer-events:none;transition:opacity .28s}
Â  Â  .overlay.show{opacity:1;pointer-events:auto}
Â  Â  .mobile-menu-btn{display:block;background:var(--panel);border:1px solid rgba(255,255,255,0.03);color:var(--muted);padding:8px 10px;border-radius:10px}
Â  Â  .surah-head { flex-direction: column; align-items: flex-start; }
Â  Â  .controls-row { margin-top: 15px; }
Â  Â  #playerWrap { width: 100%; }
Â  }

Â  select,input{background:transparent;color:inherit;border:1px solid rgba(255,255,255,0.04);padding:8px;border-radius:10px}
Â  small.muted{color:var(--muted);font-size:12px}
Â  footer{margin-top:30px;color:var(--muted);text-align:center;font-size:13px}
</style>
</head>
<body>
<header>
Â  <button id="mobileMenuBtn" class="mobile-menu-btn">â˜°</button>

Â  Â  <div class="brand">
Â  Â  <div class="logo-box">Ù‚</div>
Â  Â  <div>
Â  Â  Â  <h1 id="siteTitle">Ø§Ù„Ù‚Ø±Ø¢Ù† Ø§Ù„ÙƒØ±ÙŠÙ…</h1>
Â  Â  </div>
Â  </div>

Â  Â  <div class="center-search">
Â  Â  <input id="topSearch" class="search-top" placeholder="Ø§Ø¨Ø­Ø« ÙÙŠ Ø§Ù„Ø³ÙˆØ±ØŒ Ø£Ùˆ Ø§Ù„Ø¢ÙŠØ§Øª Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ø³ÙˆØ±Ø© Ù…ÙØªÙˆØ­Ø©" />
Â  </div>

Â  Â  <div class="header-actions">
Â  Â  <div class="mobile-search">
Â  Â  Â  <input id="mobileSearch" data-i18n-placeholder="search_placeholder" placeholder="Ø§Ø¨Ø­Ø« ÙÙŠ Ø§Ù„Ø³ÙˆØ± Ø£Ùˆ Ø§Ù„Ø¢ÙŠØ§Øª..." />
Â  Â  </div>

Â  Â  <button id="toggleTheme" class="icon-btn" title="ÙˆØ¶Ø¹ Ù„ÙŠÙ„ÙŠ/Ù†Ù‡Ø§Ø±ÙŠ">ğŸŒ“</button>
Â  </div>
</header>

<div class="container">
Â  Â  <aside class="sidebar" id="sidebar">
Â  Â  <div class="controls">
Â  Â  Â  <div style="flex:1"><input id="sideSearch" placeholder="Ø¨Ø­Ø« ÙÙŠ Ø§Ù„Ø³ÙˆØ±..." /></div>
Â  Â  Â  Â  Â  </div>

Â  Â  <div style="margin-top:8px"><strong id="chaptersLabel">Ø§Ù„Ø³ÙˆØ±</strong></div>
Â  Â  <div id="chaptersList" class="chapters" role="list"></div>

Â  </aside>

Â  Â  <main class="main">
Â  Â  <div class="surah-card">
Â  Â  Â  <div class="surah-head">
Â  Â  Â  Â  <div>
Â  Â  Â  Â  Â  <div id="surahTitle" class="surah-title">Ø§Ø®ØªØ± Ø³ÙˆØ±Ø©</div>
Â  Â  Â  Â  Â  <div id="surahMeta" class="muted">Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø¹Ù„Ù‰ Ø§Ù„ÙŠÙ…ÙŠÙ†</div>
Â  Â  Â  Â  </div>

Â  Â  Â  Â  <div>
Â  Â  Â  Â  Â  <div class="controls-row">
Â  Â  Â  Â  Â  Â  <select id="translationSelect" title="Ø§Ù„ØªØ±Ø¬Ù…Ø©">
Â  Â  Â  Â  Â  Â  Â  <option value="131">Sahih International (Ø§Ù†Ø¬Ù„ÙŠØ²ÙŠ)</option>
Â  Â  Â  Â  Â  Â  Â  <option value="">Ø¨Ø¯ÙˆÙ† ØªØ±Ø¬Ù…Ø©</option>
Â  Â  Â  Â  Â  Â  </select>
Â  Â  Â  Â  Â  Â  <select id="tafsirSelect" title="Ø§Ù„ØªÙØ³ÙŠØ±">
Â  Â  Â  Â  Â  Â  Â  <option value="169">ØªÙØ³ÙŠØ± Ø§Ø¨Ù† ÙƒØ«ÙŠØ±</option>
Â  Â  Â  Â  Â  Â  Â  <option value="">Ø¨Ø¯ÙˆÙ† ØªÙØ³ÙŠØ±</option>
Â  Â  Â  Â  Â  Â  </select>
Â  Â  Â  Â  Â  Â  <button id="playSurahBtn" class="btn">â–¶ ØªØ´ØºÙŠÙ„ Ø§Ù„Ø³ÙˆØ±Ø©</button>
Â  Â  Â  Â  Â  Â  <button id="scrollToLast" class="btn alt">ğŸ” Ø¢Ø®Ø± Ù‚Ø±Ø§Ø¡Ø©</button>
Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="player-wrap" id="playerWrap"></div>
Â  Â  Â  Â  </div>
Â  Â  Â  </div>

Â  Â  Â  <div id="versesWrap" class="verses"></div>
Â  Â  </div>

Â  Â  <footer id="footer">Ø§Ù„Ù‚Ø±Ø¢Ù† Ø§Ù„ÙƒØ±ÙŠÙ… â€¢ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø©</footer>
Â  </main>
</div>

<div id="overlay" class="overlay"></div>

<button id="scrollTopBtn" title="Ø§Ù„Ø±Ø¬ÙˆØ¹ Ø¥Ù„Ù‰ Ø§Ù„Ø£Ø¹Ù„Ù‰">
Â  <span>â†‘</span>
</button>

<script>
/* ============================
Â  Â JavaScript â€” Ù†Ø³Ø®Ø© Ù…Ø¹Ø¯Ù„Ø© ÙˆÙ…Ø­Ø³Ù†Ø©
Â  Â ============================ */

/* ---------- BASE PATH (GitHub Pages safe) ---------- */
const BASE_PATH = location.pathname.includes('/Quran.Kareem/')
Â  ? '/Quran.Kareem/'
Â  : '/';

/* ---------- Config: Reciters (multiple patterns per reciter) ---------- */
const RECITERS = {
Â  "Ù…Ø´Ø§Ø±ÙŠ Ø§Ù„Ø¹ÙØ§Ø³ÙŠ": [
Â  Â  "https://server11.mp3quran.net/afs/{c}.mp3",
Â  Â  "https://server8.mp3quran.net/afs/{c}.mp3"
Â  ],
Â  Â  "Ù…Ø­Ù…Ø¯ Ù…Ø­Ù…ÙˆØ¯ Ø§Ù„Ø·Ø¨Ù„Ø§ÙˆÙŠ": [
Â  Â  "https://server12.mp3quran.net/tblawi/{c}.mp3"
Â  ],
Â  "Ù…Ø­Ù…Ø¯ ØµØ¯ÙŠÙ‚ Ø§Ù„Ù…Ù†Ø´Ø§ÙˆÙŠ": [
Â  Â  "https://server10.mp3quran.net/minsh/{c}.mp3",
Â  Â  "https://server9.mp3quran.net/minsh/{c}.mp3",
Â  Â  "https://server8.mp3quran.net/minsh/{c}.mp3"
Â  ],
Â  "Ù…Ø­Ù…ÙˆØ¯ Ø®Ù„ÙŠÙ„ Ø§Ù„Ø­ØµØ±ÙŠ": [
Â  Â  "https://server13.mp3quran.net/husr/{c}.mp3",
Â  Â  "https://server12.mp3quran.net/husary/{c}.mp3"
Â  ],
Â  "Ø¹Ø¨Ø¯ Ø§Ù„Ø¨Ø§Ø³Ø· Ø¹Ø¨Ø¯ Ø§Ù„ØµÙ…Ø¯": [
Â  Â  "https://server7.mp3quran.net/basit/{c}.mp3",
Â  Â  "https://server12.mp3quran.net/basit/{c}.mp3"
Â  ],
Â  "Ø³Ø¹Ø¯ Ø§Ù„ØºØ§Ù…Ø¯ÙŠ": [
Â  Â  "https://server7.mp3quran.net/s_gmd/{c}.mp3",
Â  Â  "https://server11.mp3quran.net/s_gmd/{c}.mp3"
Â  ],
Â  "Ù…Ø§Ù‡Ø± Ø§Ù„Ù…Ø¹ÙŠÙ‚Ù„ÙŠ": [
Â  Â  "https://server12.mp3quran.net/maher/{c}.mp3",
Â  Â  "https://server11.mp3quran.net/maher/{c}.mp3"
Â  ],
Â  "ÙŠØ§Ø³Ø± Ø§Ù„Ø¯ÙˆØ³Ø±ÙŠ": [
Â  Â  "https://server11.mp3quran.net/yasser/{c}.mp3",
Â  Â  "https://server8.mp3quran.net/yasser/{c}.mp3"
Â  ],
Â  "Ø¥Ø¯Ø±ÙŠØ³ Ø£Ø¨ÙƒØ±": [
Â  Â  "https://server6.mp3quran.net/abkr/{c}.mp3"
Â  ]
};

// **Ù…Ø¹Ø±ÙØ§Øª APIquran Ù„Ù€ Ø§Ù„ØªØ±Ø¬Ù…Ø© ÙˆØ§Ù„ØªÙØ³ÙŠØ± (ÙŠÙ…ÙƒÙ† ØªØºÙŠÙŠØ±Ù‡Ø§):**
// ÙŠØ¬Ø¨ Ø£Ù† ØªØ¹ÙƒØ³ Ù‡Ø°Ù‡ Ø§Ù„Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„Ù‚ÙŠÙ…Ø© Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ© ÙÙŠ SELECT
let TRANSLATION_ID = 131; 
let TAFSIR_ID = 169;

/* ---------- DOM ---------- */
const sidebar = document.getElementById('sidebar');
const chaptersList = document.getElementById('chaptersList');
const versesWrap = document.getElementById('versesWrap');
const surahTitle = document.getElementById('surahTitle');
const surahMeta = document.getElementById('surahMeta');
const reciterSelect = document.getElementById('reciterSelect'); 
const translationSelect = document.getElementById('translationSelect'); 
const tafsirSelect = document.getElementById('tafsirSelect'); 
const playerWrap = document.getElementById('playerWrap');
const playSurahBtn = document.getElementById('playSurahBtn'); 
const topSearch = document.getElementById('topSearch');
const sideSearch = document.getElementById('sideSearch');
const scrollToLastBtn = document.getElementById('scrollToLast');

/* ---------- State ---------- */
let quran = [];
let currentSurah = null;
let currentSurahIndex = null;

/* ---------- Utils ---------- */
function normalizeArabic(text=''){
Â  return text
Â  Â  .replace(/[\u064B-\u065F]/g,'') 
Â  Â  .replace(/[Ø¥Ø£Ø¢]/g,'Ø§')Â  Â 
Â  Â  .replace(/Ø¤/g,'Ùˆ').replace(/Ø¦/g,'ÙŠ') 
Â  Â  .replace(/Ù‰/g,'ÙŠ').replace(/Ø©/g,'Ù‡') 
Â  Â  .toLowerCase();
}

/* ---------- Load Quran (LOCAL) ---------- */
async function loadQuran(){
Â  try{
Â  Â  const res = await fetch(`${BASE_PATH}source/surah.json`);
Â  Â  quran = await res.json();
Â  Â  renderChapters();
Â  Â  // Ù…Ø­Ø§ÙˆÙ„Ø© ÙØªØ­ Ø¢Ø®Ø± Ø³ÙˆØ±Ø©
Â  Â  const last = JSON.parse(localStorage.getItem('q_last_v3') || 'null');
Â  Â  if (last?.surah) openSurah(last.surah);
Â  }catch(e){
Â  Â  console.error(e);
Â  Â  alert('ÙØ´Ù„ ØªØ­Ù…ÙŠÙ„ surah.json');
Â  }
}

/* ---------- Render chapters ---------- */
function renderChapters(filter=''){
Â  chaptersList.innerHTML = '';
Â  const q = normalizeArabic(filter);

Â  quran.forEach(s=>{
Â  Â  // Ø¨Ø­Ø« Ø¨Ø§Ù„Ø§Ø³Ù… Ø§Ù„Ø¹Ø±Ø¨ÙŠ Ø£Ùˆ Ø§Ù„Ø±Ù‚Ù…
Â  Â  if(q && !normalizeArabic(s.titleAr).includes(q) && String(s.index) !== q) return;

Â  Â  const el = document.createElement('div');
Â  Â  el.className = 'chapter-item';
Â  Â  // Ø¥Ø¶Ø§ÙØ© ÙØ¦Ø© 'active' Ù„ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ø³ÙˆØ±Ø© Ø§Ù„Ù…ÙØªÙˆØ­Ø©
Â  Â  if (Number(s.index) === currentSurahIndex) el.classList.add('active');

Â  Â  el.innerHTML = `
Â  Â  Â  <div>
Â  Â  Â  Â  <strong>${parseInt(s.index)}. ${s.titleAr}</strong>
Â  Â  Â  Â  <div class="chapter-meta">
Â  Â  Â  Â  Â  ${s.count} Ø¢ÙŠØ© â€¢ ${s.type}
Â  Â  Â  Â  </div>
Â  Â  Â  </div>
Â  Â  Â  <div>â–¶</div>
Â  Â  `;

Â  Â  el.onclick = () => openSurah(s.index);
Â  Â  chaptersList.appendChild(el);
Â  });
}

/* ---------- Open surah (Combined data fetching) ---------- */
async function openSurah(index, translationId = TRANSLATION_ID, tafsirId = TAFSIR_ID) {
Â  try {
Â  Â  const cleanIndex = Number(index);
Â  Â  currentSurahIndex = cleanIndex; // ØªØ­Ø¯ÙŠØ« Ø­Ø§Ù„Ø© Ø§Ù„Ø³ÙˆØ±Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ©
Â  Â  versesWrap.innerHTML = '<p class="loading-msg" style="text-align:center;">Ø¬Ø§Ø±Ù ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø³ÙˆØ±Ø©...</p>'; // Ø±Ø³Ø§Ù„Ø© ØªØ­Ù…ÙŠÙ„

Â  Â  // Ø¬Ù„Ø¨ Ø§Ù„Ø³ÙˆØ±Ø© Ø§Ù„Ù…Ø­Ù„ÙŠØ©
Â  Â  const surahPromise = fetch(`${BASE_PATH}source/surah/surah_${cleanIndex}.json`).then(res => res.json());

Â  Â  // Ø¬Ù„Ø¨ Ø§Ù„ØªØ±Ø¬Ù…Ø© ÙˆØ§Ù„ØªÙØ³ÙŠØ± ÙÙ‚Ø· Ø¥Ø°Ø§ ØªÙ… ØªØ­Ø¯ÙŠØ¯ ID Ù„Ù‡Ù…Ø§
Â  Â  const translationPromise = translationId 
Â  Â  Â  ? fetch(`https://api.quran.com/api/v4/quran/translations/${translationId}?chapter_number=${cleanIndex}`).then(res => res.json())
Â  Â  Â  : Promise.resolve(null);

Â  Â  const tafsirPromise = tafsirId 
Â  Â  Â  ? fetch(`https://api.quran.com/api/v4/quran/tafsirs/${tafsirId}?chapter_number=${cleanIndex}`).then(res => res.json())
Â  Â  Â  : Promise.resolve(null);


Â  Â  const [s, translationData, tafsirData] = await Promise.all([
Â  Â  Â  surahPromise, 
Â  Â  Â  translationPromise, 
Â  Â  Â  tafsirPromise
Â  Â  ]);

Â  Â  s.index = cleanIndex;
Â  Â  currentSurah = s; 

Â  Â  const meta = quran.find(q => Number(q.index) === cleanIndex);

Â  Â  surahTitle.textContent = `${cleanIndex} â€” ${meta?.titleAr || s.name}`;
Â  Â  surahMeta.textContent = `${meta?.count || s.count} Ø¢ÙŠØ© â€¢ ${meta?.type || ''}`;

Â  Â  // Ø¹Ø±Ø¶ Ø§Ù„Ø¢ÙŠØ§Øª ÙˆØ§Ù„ØªØ±Ø¬Ù…Ø© ÙˆØ§Ù„ØªÙØ³ÙŠØ±
Â  Â  renderVerses(s, translationData, tafsirData);
Â  Â  // Ø¹Ø±Ø¶ Ù…Ø´ØºÙ„ Ø§Ù„ØµÙˆØª
Â  Â  populateReciterPlayer(s);
Â  Â  // ØªØ­Ø¯ÙŠØ« Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø³ÙˆØ±
Â  Â  renderChapters(topSearch.value || sideSearch.value || '');

Â  Â  localStorage.setItem('q_last_v3', JSON.stringify({ surah: cleanIndex }));
Â  } catch (e) {
Â  Â  console.error(e);
Â  Â  versesWrap.innerHTML = `<p class="error-msg" style="text-align:center;color:red;">ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø³ÙˆØ±Ø© Ø±Ù‚Ù… ${index} Ø£Ùˆ Ø¨ÙŠØ§Ù†Ø§ØªÙ‡Ø§ Ø§Ù„Ø¥Ø¶Ø§ÙÙŠØ©. ØªØ­Ù‚Ù‚ Ù…Ù† Ù…Ù„ÙØ§Øª JSON Ø§Ù„Ù…Ø­Ù„ÙŠØ© ÙˆÙ…Ù† Ø§ØªØµØ§Ù„ APIquran.</p>`;
Â  Â  alert(`ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø³ÙˆØ±Ø© Ø±Ù‚Ù… ${index}`);
Â  }
}
Â Â 
/* ---------- Render verses (Ø§Ù„Ù…Ø¹Ø¯Ù„Ø© Ù„ØªØ­Ø³ÙŠÙ† Ø§Ù„ØªØµÙ…ÙŠÙ…) ---------- */
function renderVerses(surah, translationData, tafsirData) {
Â  versesWrap.innerHTML = '';

Â  const isFatiha = Number(surah.index) === 1;

Â  if (!surah.verse) {
Â  Â  versesWrap.innerHTML = '<p style="text-align:center;">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¢ÙŠØ§Øª</p>';
Â  Â  return;
Â  }
Â  
Â  const selectedTranslation = translationSelect.options[translationSelect.selectedIndex]?.textContent || 'Ø¨Ø¯ÙˆÙ† ØªØ±Ø¬Ù…Ø©';
Â  const selectedTafsir = tafsirSelect.options[tafsirSelect.selectedIndex]?.textContent || 'Ø¨Ø¯ÙˆÙ† ØªÙØ³ÙŠØ±';

Â  // ØªØ­ÙˆÙŠÙ„ Ø§Ù„Ø¢ÙŠØ§Øª Ø¥Ù„Ù‰ Ù…ØµÙÙˆÙØ© Ù…Ø±ØªØ¨Ø©
Â  const versesArray = Object.keys(surah.verse)
Â  Â  .sort((a, b) => {
Â  Â  Â  const na = parseInt(a.replace('verse_', ''));
Â  Â  Â  const nb = parseInt(b.replace('verse_', ''));
Â  Â  Â  return na - nb;
Â  Â  })
Â  Â  .map(k => surah.verse[k]);

Â  // Ø§Ù„ØªÙƒØ±Ø§Ø± Ø¹Ù„Ù‰ Ø§Ù„Ø¢ÙŠØ§Øª ÙˆØ¯Ù…Ø¬ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
Â  versesArray.forEach((text, i) => {
Â  Â  // Ø§Ù„Ø¢ÙŠØ© Ø±Ù‚Ù… 1 ÙÙŠ ÙƒÙ„ Ø³ÙˆØ±Ø© (Ø¨Ø§Ø³ØªØ«Ù†Ø§Ø¡ Ø§Ù„ÙØ§ØªØ­Ø©) Ù‡ÙŠ Ø§Ù„Ø¨Ø³Ù…Ù„Ø©
Â  Â  const verseNumber = (!isFatiha && i === 0) ? null : (isFatiha ? i + 1 : i);
Â  Â Â 
Â  Â  // Ø¬Ù„Ø¨ Ø§Ù„Ù†Øµ Ù…Ù† Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ø¹ Ø§Ù„ØªØ­Ù‚Ù‚
Â  Â  const translation = translationData?.translations?.[i]?.text || 'Ù„Ø§ ØªØªÙˆÙØ± ØªØ±Ø¬Ù…Ø©.';
Â  Â  const tafsir = tafsirData?.tafsirs?.[i]?.text || 'Ù„Ø§ ÙŠØªÙˆÙØ± ØªÙØ³ÙŠØ±.';

Â  Â  const el = document.createElement('div');
Â  Â  el.className = 'verse-container'; // Ø§Ù„ÙØ¦Ø© Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©
Â  Â  
Â  Â  let html = `
Â  Â  Â  <div class="verse-header">
Â  Â  Â  Â  <span class="verse-number-display">${verseNumber !== null ? `ï´¿${verseNumber}ï´¾` : ''}</span>
Â  Â  Â  </div>
Â  Â  Â  <div class="arab-text">${text}</div>
Â  Â  `;
Â  Â  
Â  Â  if (TRANSLATION_ID && translationData) {
Â  Â  Â  html += `
Â  Â  Â  Â  <div class="data-section translation-section">
Â  Â  Â  Â  Â  <h4 class="section-title">Ø§Ù„ØªØ±Ø¬Ù…Ø© (${selectedTranslation})</h4>
Â  Â  Â  Â  Â  <p class="translation-text">${translation}</p>
Â  Â  Â  Â  </div>
Â  Â  Â  `;
Â  Â  }

Â  Â  if (TAFSIR_ID && tafsirData) {
Â  Â  Â  html += `
Â  Â  Â  Â  <div class="data-section tafsir-section">
Â  Â  Â  Â  Â  <h4 class="section-title">Ø§Ù„ØªÙØ³ÙŠØ± (${selectedTafsir})</h4>
Â  Â  Â  Â  Â  <p class="tafsir-text">${tafsir}</p>
Â  Â  Â  Â  </div>
Â  Â  Â  `;
Â  Â  }

Â  Â  el.innerHTML = html;
Â  Â  versesWrap.appendChild(el);
Â  });
}

/* ---------- Audio (Uses original mp3quran.net list) ---------- */
function populateReciterPlayer(surah) {
Â  // Ø¥Ø¹Ø¯Ø§Ø¯ Ù…Ø´ØºÙ„ Ø§Ù„ØµÙˆØª Ù…Ø¹ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù‚Ø±Ø§Ø¡ Ø§Ù„Ù…ØªØ§Ø­Ø©
Â  playerWrap.innerHTML = `
Â  Â  <strong>Ø§Ù„Ù‚Ø§Ø±ÙŠØ¡:</strong>
Â  Â  <select id="playerReciterSelect">
Â  Â  Â  ${Object.keys(RECITERS).map(r => `<option>${r}</option>`).join('')}
Â  Â  </select>
Â  Â  <audio id="surahAudio" controls></audio>`;
Â Â 
Â  document.getElementById('playerReciterSelect')
Â  Â  .addEventListener('change', () => initAudioForSurah(surah));
Â Â 
Â  initAudioForSurah(surah);
}

function initAudioForSurah(surah) {
Â  const reciterName = document.getElementById('playerReciterSelect').value;
Â  const audio = document.getElementById('surahAudio');
Â  // ÙŠØªÙ… ØªØ­ÙˆÙŠÙ„ Ø±Ù‚Ù… Ø§Ù„Ø³ÙˆØ±Ø© Ø¥Ù„Ù‰ ØµÙŠØºØ© Ø«Ù„Ø§Ø«Ø© Ø£Ø±Ù‚Ø§Ù… (Ù…Ø«Ø§Ù„: 1 ØªØµØ¨Ø­ 001)
Â  const c = String(surah.index).padStart(3, '0');
Â  const reciterUrls = RECITERS[reciterName];

Â  if (!reciterUrls || reciterUrls.length === 0) {
Â  Â  audio.src = '';
Â  Â  audio.load();
Â  Â  console.error(`Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ø³Ø§Ø±Ø§Øª ØµÙˆØªÙŠØ© Ù„Ù„Ù‚Ø§Ø±Ø¦ ${reciterName}`);
Â  Â  return;
Â  }

Â  // Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ù…Ø³Ø§Ø± Ø§Ù„Ø£ÙˆÙ„ ÙƒØ§ÙØªØ±Ø§Ø¶ÙŠ.
Â  const audioUrl = reciterUrls[0].replace('{c}', c);
Â  
Â  audio.src = audioUrl;
Â  audio.load();
}

/* ---------- Event Listeners for Translation/Tafsir Selectors ---------- */
translationSelect?.addEventListener('change', (e) => {
Â  TRANSLATION_ID = e.target.value;
Â  if (currentSurahIndex) {
Â  Â  openSurah(currentSurahIndex, TRANSLATION_ID, TAFSIR_ID);
Â  }
});

tafsirSelect?.addEventListener('change', (e) => {
Â  TAFSIR_ID = e.target.value;
Â  if (currentSurahIndex) {
Â  Â  openSurah(currentSurahIndex, TRANSLATION_ID, TAFSIR_ID);
Â  }
});


/* ---------- Search ---------- */
// Ø±Ø¨Ø· Ø§Ù„Ø¨Ø­Ø« Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠ Ø¨Ø§Ù„Ø³ÙˆØ± ÙÙ‚Ø·
sideSearch?.addEventListener('input',e=>renderChapters(e.target.value));

/* ---------- Scroll to last ---------- */
scrollToLastBtn.addEventListener('click',()=>{
Â  const last=JSON.parse(localStorage.getItem('q_last_v3')||'null');
Â  if(!last?.surah) return;
Â  openSurah(last.surah);
});

/* ---------- Init ---------- */
function init(){
Â  // ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ù‚ÙŠÙ… Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ© Ù„Ù€ TRANSLATION_ID Ùˆ TAFSIR_ID Ù…Ù† Ø§Ù„Ù€ HTML
Â  TRANSLATION_ID = translationSelect.value || null;
Â  TAFSIR_ID = tafsirSelect.value || null;

Â  loadQuran();
}
init();
</script>

<script>
document.addEventListener('DOMContentLoaded', () => {
Â  // Ø¹Ù†Ø§ØµØ± Ø§Ù„Ø­Ù‚ÙˆÙ„
Â  const topSearchEl = document.getElementById('topSearch');
Â  const mobileSearchEl = document.getElementById('mobileSearch');
Â  const sideSearchEl = document.getElementById('sideSearch');

Â  // Ø¯Ø§Ù„Ø© Ø§Ù„Ø¨Ø­Ø« ÙÙŠ Ø§Ù„Ø¢ÙŠØ§Øª (Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ø§Ù„Ø³ÙˆØ±Ø© Ù…ÙØªÙˆØ­Ø©)
Â  function searchInVerses(query){
Â  Â  const q = normalizeArabic(query);
Â  Â  const verses = document.querySelectorAll('.verse-container');
Â  Â  let found = false;
Â  Â  verses.forEach(v => {
Â  Â  Â  const text = normalizeArabic(v.innerText);
Â  Â  Â  const match = text.includes(q);
Â  Â  Â  v.style.display = match ? '' : 'none';
Â  Â  Â  if (match) found = true;
Â  Â  });
Â  Â  return found;
Â  }

Â  // ÙˆØ¸ÙŠÙØ© Ø§Ù„Ø¨Ø­Ø« Ø§Ù„Ù…ÙˆØ­Ø¯Ø©: ÙÙŠ Ø§Ù„Ø¢ÙŠØ§Øª Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ø³ÙˆØ±Ø© Ù…ÙØªÙˆØ­Ø©ØŒ ÙˆØ¥Ù„Ø§ ÙÙÙŠ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø³ÙˆØ±
Â  const globalSearchHandler = (e) => {
Â  Â  const query = (e.target.value || '').trim();
Â  Â  if (currentSurahIndex && query.length > 0) {
Â  Â  Â  searchInVerses(query);
Â  Â  } else {
Â  Â  Â  // ÙÙŠ Ø­Ø§Ù„ Ø¥ÙØ±Ø§Øº Ø§Ù„Ø¨Ø­Ø« Ø£Ùˆ Ø¹Ø¯Ù… ÙˆØ¬ÙˆØ¯ Ø³ÙˆØ±Ø© Ù…ÙØªÙˆØ­Ø©ØŒ Ù†Ø¹ÙŠØ¯ Ø¹Ø±Ø¶ Ø§Ù„Ø³ÙˆØ±
Â  Â  Â  if (typeof renderChapters === 'function') renderChapters(query);
Â  Â  }
Â  };

Â  // Ø±Ø¨Ø· Ø§Ù„Ø¨Ø­Ø« Ø§Ù„Ø¹Ù„ÙˆÙŠ ÙˆØ§Ù„Ù…ÙˆØ¨Ø§ÙŠÙ„ Ø¨Ø§Ù„ÙˆØ¸ÙŠÙØ© Ø§Ù„Ù…ÙˆØ­Ø¯Ø©
Â  if (topSearchEl) {
Â  Â  topSearchEl.addEventListener('input', globalSearchHandler);
Â  }

Â  if (mobileSearchEl) {
Â  Â  mobileSearchEl.addEventListener('input', globalSearchHandler);
Â  }
});


/* =========================
Â  Â FIX MOBILE CONTROLS & THEME
Â  Â ========================= */

/* ---------- Sidebar mobile toggle ---------- */
const mobileMenuBtn = document.getElementById('mobileMenuBtn');
const overlay = document.getElementById('overlay');

if (mobileMenuBtn && sidebar) {
Â  mobileMenuBtn.addEventListener('click', () => {
Â  Â  sidebar.classList.toggle('open');
Â  Â  overlay.classList.toggle('show');
Â  });
}

overlay?.addEventListener('click', () => {
Â  sidebar.classList.remove('open');
Â  overlay.classList.remove('show');
});

/* ---------- Theme toggle (light / dark) ---------- */
const themeBtn = document.getElementById('toggleTheme');

if (themeBtn) {
Â  themeBtn.addEventListener('click', () => {
Â  Â  document.documentElement.classList.toggle('light');
Â  Â  localStorage.setItem(
Â  Â  Â  'q_theme',
Â  Â  Â  document.documentElement.classList.contains('light') ? 'light' : 'dark'
Â  Â  );
Â  });
}

/* restore theme */
if (localStorage.getItem('q_theme') === 'light') {
Â  document.documentElement.classList.add('light');
}

/* ---------- Play surah button ---------- */
playSurahBtn?.addEventListener('click', () => {
Â  if (!currentSurah) return alert('Ø§Ø®ØªØ± Ø³ÙˆØ±Ø© Ø£ÙˆÙ„Ø§Ù‹');
Â  populateReciterPlayer(currentSurah);
});

/* ---------- Scroll to top button logic ---------- */
window.addEventListener('scroll', () => {
Â  const btn = document.getElementById('scrollTopBtn');
Â  if (window.scrollY > 300) {
Â  Â  btn.classList.add('show');
Â  } else {
Â  Â  btn.classList.remove('show');
Â  }
});

document.getElementById('scrollTopBtn')?.addEventListener('click', () => {
Â  window.scrollTo({ top: 0, behavior: 'smooth' });
});

</script>Â Â 
</body>
</html>
